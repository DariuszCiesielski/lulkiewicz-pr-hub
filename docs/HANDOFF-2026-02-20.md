# Handoff — sesja 2026-02-20 (demo isolation + anonimizacja danych)

## Zakres wdrozenia

- Dodano endpoint setupu demo: `POST /api/dev/setup-demo` (admin-only).
- Dodano szybki trigger setupu demo w panelu admina (`/admin`).
- Wprowadzono separacje widokow danych:
  - konto demo (`demo@demo.pl`) widzi tylko skrzynki `[MOCK]`
  - pozostali admini nie widza skrzynek `[MOCK]`.
- Dodano scoping w kluczowych API Email Analyzer:
  - dashboard, mailboxes, threads, sync, analysis, reports.
- Zaktualizowano seed danych demo:
  - anonimowe adresy i domeny (`demo-royal.example`, `demo-sady.example`, `demo-developer.example`)
  - brak realnych adresow skrzynek w danych prezentacyjnych.
- W setupie demo wyłączono generowanie AI summary podczas budowy watkow
  (szybszy i bardziej niezawodny seed demo).

## Kluczowe pliki

- `src/lib/api/demo-scope.ts`
- `src/app/api/dev/setup-demo/route.ts`
- `src/lib/mock/setup-demo.ts`
- `src/lib/mock/seed-mailboxes.ts`
- `src/lib/mock/seed-emails.ts`
- `src/lib/mock/seed-data.ts`
- `src/app/(hub)/admin/page.tsx`
- `src/app/api/mailboxes/route.ts`
- `src/app/api/mailboxes/[id]/route.ts`
- `src/app/api/dashboard/route.ts`
- `src/app/api/threads/route.ts`
- `src/app/api/analysis/route.ts`
- `src/app/api/reports/route.ts`
- `README.md`
- `.env.local.example`

## Weryfikacja

- `npm run build` przechodzi.
- Potwierdzono dane demo po migracji danych:
  - 3 demo mailboxy
  - 64 demo emaile
  - 13 watkow
  - 0 wystapien starych domen produkcyjnych w danych demo.

## Wersjonowanie i deploy

- Planowany tag release: `v1.0.9`
- GitHub: `master`
- Vercel:
  - preview deployment po zmianach
  - deploy produkcyjny po push/tag.
